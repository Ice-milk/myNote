# python学习笔记

# python3

## 1 基础语法

### 1.1 编码方式

```python
# encoding: utf-8
```

### 1.2 指定解释器

```python
# linux下
#! /usr/bin/python3
```

### 1.3 字符串

-   Python 没有单独的字符类型，一个字符就是长度为 1 的字符串。
-   python中单引号和双引号使用完全相同。
-   使用三引号(`'''`或`"""`)可以指定一个多行字符串。

```python
word = '字符串'
sentence = "这是一个句子。"
paragraph = """这是一个段落，
可以由多行组成"""
```

-   转义符` '\'`
-   反斜杠可以用来转义，使用r可以让反斜杠不发生转义。。 如 `r"this is a line with \n"` 则`\n`会显示，并不是换行。
-   按字面意义级联字符串，如`"this " "is " "string"`会被自动转换为`"this is string"`。
-   字符串可以用 ``+`` 运算符连接在一起，用 ``*`` 运算符重复。
-   Python 中的字符串有两种索引方式，从左往右以 0 开始，从右往左以 -1 开始。
-   Python中的字符串不能改变。
-   字符串的截取的语法格式如下：``变量[头下标:尾下标:步长]``  **区间是左闭右开，即尾下标项不包含在内**

![img](https://static.runoob.com/wp-content/uploads/123456-20200923-1.svg)

```python
#!/usr/bin/python3
 
str='Runoob'
 
print(str)                 # 输出字符串
print(str[0:-1])           # 输出第一个到倒数第二个的所有字符
print(str[0])              # 输出字符串第一个字符
print(str[2:5])            # 输出从第三个开始到第五个的字符
print(str[2:])             # 输出从第三个开始后的所有字符
print(str[1:5:2])          # 输出从第二个开始到第五个且每隔两个的字符
print(str * 2)             # 输出字符串两次
print(str + '你好')         # 连接字符串
 
print('------------------------------')
 
print('hello\nrunoob')      # 使用反斜杠(\)+n转义特殊字符
print(r'hello\nrunoob')     # 在字符串前面添加一个 r，表示原始字符串，不会发生转义

输出结果：
Runoob
Runoo
R
noo
noob
uo
RunoobRunoob
Runoob你好
------------------------------
hello
runoob
hello\nrunoob
```

### 1.4 等待输入

```python
input("输入前显示的字符串")
# 返回输入的字符串
```

### 1.5 print输出

```python
print(x+"",end=" ")
# 表示输出x的值，字符串，行末以空格结尾，不换行
```

### 1.6 import和from...import

将整个模块(somemodule)导入，格式为：`import somemodule`

从某个模块中导入某个函数,格式为： `from somemodule import somefunction`

从某个模块中导入多个函数,格式为： `from somemodule import firstfunc, secondfunc, thirdfunc`

将某个模块中的全部函数导入，格式为： `from somemodule import *`

```python
import sys
print('================Python import mode==========================')
print ('命令行参数为:')
for i in sys.argv:
    print (i)
print ('\n python 路径为',sys.path)
```

```python
from sys import argv, path
print('================Python import mode==========================')
print ('命令行参数为:')
for i in argv:
    print (i)
print ('\n python 路径为',path)# 因为已经导入path成员，所以此处引用时不需要加sys.path
```

## 2 基本数据类型

Python3 中有六个标准的数据类型：

-   Number（数字）
-   String（字符串）
-   List（列表）
-   Tuple（元组）
-   Set（集合）
-   Dictionary（字典）

Python3 的六个标准数据类型中：

-   **不可变数据（3 个）：**Number（数字）、String（字符串）、Tuple（元组）；
-   **可变数据（3 个）：**List（列表）、Dictionary（字典）、Set（集合）。

### 2.1 数字number

Python3 支持 **int、float、bool、complex（复数）**。

```python
>>> a, b, c, d = 20, 5.5, True, 4+3j
>>> print(type(a), type(b), type(c), type(d))
<class 'int'> <class 'float'> <class 'bool'> <class 'complex'>
```

 Python支持复数，复数由实数部分和虚数部分构成，可以用`a + bj`,或者`complex(a,b)`表示， 复数的实部a和虚部b都是浮点型

您可以通过使用del语句删除单个或多个对象。例如：

```python
del var
del var_a, var_b
```

#### 数值运算

python有两个特殊的运算表示方法：

```python
>>> 2 / 4  # 除法，得到一个浮点数
0.5
>>> 2 // 4 # 除法，得到一个整数
0

>>> 2 ** 5 # 乘方
32
```

**注意：**

-   1、Python可以同时为多个变量赋值，如a, b = 1, 2。
-   2、一个变量可以通过赋值指向不同类型的对象。
-   3、数值的除法包含两个运算符：**/** 返回一个浮点数，**//** 返回一个整数。
-   4、在混合计算时，Python会把整型转换成为浮点数。

### 2.2 字符串string

同1章内容。

### 2.3 列表list

列表可以完成大多数集合类的数据结构实现。列表中元素的类型可以不相同，它支持数字，字符串甚至可以包含列表（所谓嵌套）。

列表是写在方括号 `[]` 之间、用逗号分隔开的元素列表。

和字符串一样，列表同样可以被索引和截取，列表被截取后返回一个包含所需元素的新列表。

与Python字符串不一样的是，列表中的元素是可以改变的。

List 内置了有很多方法，例如 append()、pop() 等等，这在后面会讲到。

### 2.4 元组tuple

元组（tuple）与列表类似，不同之处在于元组的元素不能修改。可以把字符串看作一种特殊的元组。

元组写在小括号 `()` 里，元素之间用逗号隔开。

虽然tuple的元素不可改变，但它可以包含可变的对象，比如list列表。

构造包含 0 个或 1 个元素的元组比较特殊，所以有一些额外的语法规则：

```python
tup1 = ()    # 空元组
tup2 = (20,) # 一个元素，需要在元素后添加逗号
```

### 2.5集合set

集合（set）是由一个或数个形态各异的大小整体组成的，构成集合的事物或对象称作元素或是成员。基本功能是进行成员关系测试和删除重复元素。

可以使用大括号 `{ }` 或者 `set()` 函数创建集合，注意：创建一个空集合必须用 `set()` 而不是 `{ }`，因为 `{ }` 是用来创建一个空字典的。

例：

```python
sites = {'Google', 'Taobao', 'Runoob', 'Facebook', 'Zhihu', 'Baidu'}

print(sites)   # 输出集合，重复的元素被自动去掉

# 成员测试
if 'Runoob' in sites :
    print('Runoob 在集合中')
else :
    print('Runoob 不在集合中')


# set可以进行集合运算
a = set('abracadabra')
b = set('alacazam')

print(a)
# {'b', 'c', 'a', 'r', 'd'}
print(a - b)     # a 和 b 的差集
# {'r', 'b', 'd'}
print(a | b)     # a 和 b 的并集
# {'b', 'c', 'a', 'z', 'm', 'r', 'l', 'd'}
print(a & b)     # a 和 b 的交集
# {'c', 'a'}
print(a ^ b)     # a 和 b 中不同时存在的元素
# {'z', 'b', 'm', 'r', 'l', 'd'}
```

### 2.6 字典dictionary

列表是有序的对象集合，字典是无序的对象集合。两者之间的区别在于：字典当中的元素是通过**键**来存取的，而不是通过**偏移**存取。

字典是一种映射类型，字典用 `{ }` 标识，它是一个无序的 `键(key) : 值(value)` 的集合。

键(key)必须使用不可变类型，且在同一个字典中，必须是唯一的。

创建空字典使用 `{ }`。

```python
dict = {}
dict['one'] = "1 - 菜鸟教程"
dict[2]     = "2 - 菜鸟工具"

tinydict = {'name': 'runoob','code':1, 'site': 'www.runoob.com'}


print (dict['one'])       # 输出键为 'one' 的值
print (dict[2])           # 输出键为 2 的值
print (tinydict)          # 输出完整的字典
print (tinydict.keys())   # 输出所有键
print (tinydict.values()) # 输出所有值
# 输出：
'''
1 - 菜鸟教程
2 - 菜鸟工具
{'name': 'runoob', 'code': 1, 'site': 'www.runoob.com'}
dict_keys(['name', 'code', 'site'])
dict_values(['runoob', 1, 'www.runoob.com'])
'''
```

构造函数 `dict()` 可以直接从键值对序列中构建字典如下：

```python
>>> dict([('Runoob', 1), ('Google', 2), ('Taobao', 3)])
{'Runoob': 1, 'Google': 2, 'Taobao': 3}
>>> {x: x**2 for x in (2, 4, 6)}
{2: 4, 4: 16, 6: 36}
>>> dict(Runoob=1, Google=2, Taobao=3)
{'Runoob': 1, 'Google': 2, 'Taobao': 3}
```

### 2.7 数据类型转换

将数据类型作为函数名即可将变量转换到对应类型：

| 函数                   | 描述                                                |
| :--------------------- | :-------------------------------------------------- |
| int(x [,base\])        | 将x转换为一个整数                                   |
| float(x)               | 将x转换到一个浮点数                                 |
| complex(real [,imag\]) | 创建一个复数                                        |
| str(x)                 | 将对象 x 转换为字符串                               |
| **repr(x)**            | 将对象 x 转换为表达式字符串                         |
| **eval(str)**          | 用来计算在字符串中的有效Python表达式,并返回一个对象 |
| tuple(s)               | 将序列 s 转换为一个元组                             |
| list(s)                | 将序列 s 转换为一个列表                             |
| set(s)                 | 转换为可变集合                                      |
| dict(d)                | 创建一个字典。d 必须是一个 (key, value)元组序列。   |
| frozenset(s)           | 转换为不可变集合                                    |
| chr(x)                 | 将一个整数转换为一个字符                            |
| ord(x)                 | 将一个字符转换为它的整数值                          |
| hex(x)                 | 将一个整数转换为一个十六进制字符串                  |
| oct(x)                 | 将一个整数转换为一个八进制字符串                    |

## 3 运算符

Python 语言支持以下类型的运算符:

-   算术运算符
-   关系运算
-   赋值运算符
-   逻辑运算符
-   位运算符
-   成员运算符
-   身份运算符

### 3.1 算数运算符

同第1章。

### 3.2 关系运算符

与C语言相同。

### 3.3 赋值运算符
|运算符	|描述	|实例|
| ---- |----------------- | ---------------------------- |
| `**=` | 幂赋值运算符| `c **= a` 等效于 `c = c ** a`|
| `//=` | 取整除赋值运算符                                             | `c //= a` 等效于 `c = c // a`                                |
| `:=` | 海象运算符，可在表达式内部为变量赋值。**Python3.8 版本新增运算符**。 |  |

在这个示例中，赋值表达式可以避免调用 len() 两次:

````python
if (n := len(a)) > 10:
    print(f"List is too long ({n} elements, expected <= 10)")
````

### 3.4 位运算符

```
a = 0011 1100
b = 0000 1101
-----------------
a&b = 0000 1100
a|b = 0011 1101
a^b = 0011 0001
~a  = 1100 0011
a<<2 = 1111 0000
a>>2 = 0000 1111
```

### 3.5 逻辑运算符

与：`and`；或：`or`；非：`not`；

### 3.6 成员运算符

| 运算符 | 描述                                                    | 实例                                              |
| :----- | :------------------------------------------------------ | :------------------------------------------------ |
| in     | 如果在指定的序列中找到值返回 True，否则返回 False。     | x 在 y 序列中 , 如果 x 在 y 序列中返回 True。     |
| not in | 如果在指定的序列中没有找到值返回 True，否则返回 False。 | x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True。 |

```python
a = 10
b = 20
list = [1, 2, 3, 4, 5 ]
 
if ( a in list ):
   print ("1 - 变量 a 在给定的列表中 list 中")
else:
   print ("1 - 变量 a 不在给定的列表中 list 中")
 
if ( b not in list ):
   print ("2 - 变量 b 不在给定的列表中 list 中")
else:
   print ("2 - 变量 b 在给定的列表中 list 中")
 
# 修改变量 a 的值
a = 2
if ( a in list ):
   print ("3 - 变量 a 在给定的列表中 list 中")
else:
   print ("3 - 变量 a 不在给定的列表中 list 中")
# 输出
'''
1 - 变量 a 不在给定的列表中 list 中
2 - 变量 b 不在给定的列表中 list 中
3 - 变量 a 在给定的列表中 list 中
'''
```

### 3.7 身份运算符

身份运算符用于比较两个对象的存储单元

| 运算符 | 描述                                        | 实例                                                         |
| :----- | :------------------------------------------ | :----------------------------------------------------------- |
| is     | is 是判断两个标识符是不是引用自一个对象     | `x is y`, 类似 ` id(x) == id(y) ` , 如果引用的是同一个对象则返回 True，否则返回 False |
| is not | is not 是判断两个标识符是不是引用自不同对象 | `x is not y` ， 类似 `id(a) != id(b)`。如果引用的不是同一个对象则返回结果 True，否则返回 False。 |

**注：** `id()`函数用于获取对象内存地址。

### 3.8 运算符优先级

| 运算符                   | 描述                                                   |
| :----------------------- | :----------------------------------------------------- |
| **                       | 指数 (最高优先级)                                      |
| ~ + -                    | 按位翻转, 一元加号和减号 (最后两个的方法名为 +@ 和 -@) |
| * / % //                 | 乘，除，求余数和取整除                                 |
| + -                      | 加法减法                                               |
| >> <<                    | 右移，左移运算符                                       |
| &                        | 位 'AND'                                               |
| ^ \|                     | 位运算符                                               |
| <= < > >=                | 比较运算符                                             |
| == !=                    | 比较运算符                                             |
| = %= /= //= -= += *= **= | 赋值运算符                                             |
| is is not                | 身份运算符                                             |
| in not in                | 成员运算符                                             |
| not and or               | 逻辑运算符                                             |

## 4 数字

在交互模式中，最后被输出的表达式结果被赋值给变量 `_` 。例如：

```python
>>> tax = 12.5 / 100
>>> price = 100.50
>>> price * tax
12.5625
>>> price + _
113.0625
>>> round(_, 2)
113.06
```

### 数学函数

| 函数            | 返回值 ( 描述 )                                              |
| :-------------- | :----------------------------------------------------------- |
| abs(x)          | 返回数字的绝对值，如abs(-10) 返回 10                         |
| ceil(x)         | 返回数字的上入整数，如math.ceil(4.1) 返回 5                  |
| cmp(x, y)       | 如果 x < y 返回 -1, 如果 x == y 返回 0, 如果 x > y 返回 1。 **Python 3 已废弃，使用 (x>y)-(x<y) 替换**。 |
| exp(x)          | 返回e的x次幂(ex),如math.exp(1) 返回2.718281828459045         |
| fabs(x)         | 返回数字的浮点类型的绝对值，如math.fabs(-10) 返回10.0        |
| floor(x)        | 返回数字的下舍整数，如math.floor(4.9)返回 4                  |
| log(x)          | 如`math.log(math.e)`返回1.0,`math.log(100,10)`返回2.0        |
| log10(x)        | 返回以10为基数的x的对数，如math.log10(100)返回 2.0           |
| max(x1, x2,...) | 返回给定参数的最大值，参数可以为序列。                       |
| min(x1, x2,...) | 返回给定参数的最小值，参数可以为序列。                       |
| modf(x)         | 返回x的整数部分与小数部分，两部分的数值符号与x相同，整数部分以浮点型表示。 |
| pow(x, y)       | x**y 运算后的值。                                            |
| round(x [,n\])  | 返回浮点数 x 的四舍五入值，如给出 n 值，则代表舍入到小数点后的位数，默认n=0。**其实准确的说是保留值将保留到离上一位更近的一端。** |
| sqrt(x)         | 返回数字x的平方根。                                          |

**注：**`[]`表示参数可选

```python
>>> math.modf(-10.2)
(-0.1999999999999993, -10.0)
round(70.23456) :  70
round(56.659,1) :  56.7
round(80.264, 2) :  80.26
round(100.000056, 3) :  100.0
round(-100.000056, 3) :  -100.0

>>> round(2.675, 2) 
2.67
```

**按我们的想法返回结果应该是 2.68，可结果却是 2.67，为什么？**

这跟浮点数的精度有关。我们知道在机器中浮点数不一定能精确表达，因为换算成一串 1 和 0 后可能是无限位数的，机器已经做出了截断处理。那么在机器中保存的2.675这个数字就比实际数字要小那么一点点，大概是2.6749999这种。这一点点就导致了它离 2.67 要更近一点点，所以保留两位小数时就近似到了 2.67。

### 随机数函数

随机数可以用于数学，游戏，安全等领域中，还经常被嵌入到算法中，用以提高算法效率，并提高程序的安全性。

Python包含以下常用随机数函数：

| 函数                                | 描述                                                         |
| :---------------------------------- | :----------------------------------------------------------- |
| choice(seq)                         | 从序列的元素中随机挑选一个元素，比如`random.choice(range(10))`，从0到9中随机挑选一个整数。 |
| `randrange ([start,] stop [,step])` | 从指定范围内，按指定基数递增的集合中获取一个随机数，基数默认值为 1 |
| random()                            | 随机生成下一个实数，它在[0,1)范围内。                        |
| seed([x])                           | 改变随机数生成器的种子seed。如果你不了解其原理，你不必特别去设定seed，Python会帮你选择seed。 |
| shuffle(lst)                        | 将序列的所有元素随机排序                                     |
| uniform(x, y)                       | 随机生成下一个实数，它在[x,y]范围内。                        |

```python
import random

#从0到9中随机挑选一个整数。
random.choice(range(10))

# 从 1-99 中选取一个奇数
random.randrange(1, 100, 2)
 
# 从 0-99 选取一个随机数
random.randrange(100)
```

### 三角函数

| 函数        | 描述                                              |
| :---------- | :------------------------------------------------ |
| acos(x)     | 返回x的反余弦弧度值。                             |
| asin(x)     | 返回x的反正弦弧度值。                             |
| atan(x)     | 返回x的反正切弧度值。                             |
| atan2(y, x) | 返回给定的 X 及 Y 坐标值的反正切值。              |
| cos(x)      | 返回x的弧度的余弦值。                             |
| hypot(x, y) | 返回欧几里德范数 sqrt(x*x + y*y)。                |
| sin(x)      | 返回的x弧度的正弦值。                             |
| tan(x)      | 返回x弧度的正切值。                               |
| degrees(x)  | 将弧度转换为角度,如degrees(math.pi/2) ， 返回90.0 |
| radians(x)  | 将角度转换为弧度                                  |

### 数学常量

| 常量 | 描述                                  |
| :--- | :------------------------------------ |
| pi   | 数学常量 pi（圆周率，一般以π来表示）  |
| e    | 数学常量 e，e即自然常数（自然常数）。 |

## 5 字符串

